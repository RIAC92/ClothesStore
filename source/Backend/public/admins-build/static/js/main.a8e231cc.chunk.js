(this["webpackJsonpadmin-frontend"]=this["webpackJsonpadmin-frontend"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(25),i=a.n(s),r=(a(52),a(53),a(46)),d=a.n(r),o=a(12),l=a(10),u=(a(54),a(6)),h=a(7),b=a(9),j=a(8),p=a(27),x=a(23),O=a(0),g=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(O.jsxs)(p.a,{bg:"dark",expand:"lg",variant:"dark",sticky:"top",children:[Object(O.jsx)(p.a.Brand,{children:Object(O.jsx)("span",{className:"navbar-brand",children:"Administrar Tienda"})}),Object(O.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(O.jsx)(x.a,{className:"mr-auto",children:Object(O.jsxs)("ul",{className:'navbar-nav mr-auto"',children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(x.a.Link,{children:[" ",Object(O.jsx)(o.b,{to:"/admins-page/",className:"nav-link",children:"Configuraci\xf3n General"})," "]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(x.a.Link,{children:[" ",Object(O.jsx)(o.b,{to:"/admins-page/pedidos",className:"nav-link",children:"Pedidos"})," "]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(x.a.Link,{children:[" ",Object(O.jsx)(o.b,{to:"/admins-page/productos",className:"nav-link",children:"Productos"})," "]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(x.a.Link,{children:[" ",Object(O.jsx)(o.b,{to:"/admins-page/proveedores",className:"nav-link",children:"Proveedores"})," "]})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsxs)(x.a.Link,{children:[" ",Object(O.jsx)(o.b,{to:"/admins-page/repartidores",className:"nav-link",children:"Repartidores"})," "]})})]})})})]})}}]),a}(n.Component),m=a(3),f=a.n(m),v="http://localhost:5000",y=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={username:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/config/whoiam").then((function(t){e.setState({username:t.data.username})})).catch((function(t){alert("Ha ocurrido un error, posiblemente un fallo de conexi\xf3n"),console.log(t),e.setState({username:"unkwon"})}))}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{className:"text-info",children:["Usuario:"," ",Object(O.jsx)("b",{children:this.state.username})]})," ","|"," ",Object(O.jsx)("a",{href:v+"/login/out",className:"text-muted",children:"cerrar sessi\xf3n"})]})}}]),a}(n.Component),w=a(19),C=a(5),_=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={tags:{},edit:""},n.handleDelete=n.handleDelete.bind(Object(C.a)(n)),n.handleEdit=n.handleEdit.bind(Object(C.a)(n)),n.handleAdd=n.handleAdd.bind(Object(C.a)(n)),n.handleSave=n.handleSave.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/config/tags").then((function(t){var a=t.data;e.setState({tags:a})})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},{key:"handleDelete",value:function(e){e.preventDefault();var t=e.target.id.match(/(?<=btn-delete-)\w+/i)[0];if(window.confirm("Desea borrar la categoria: "+t)){var a=Object.assign({},this.state.tags);delete a[t],this.setState({tags:a})}}},{key:"handleEdit",value:function(e){e.preventDefault();var t=e.target.id.match(/(?<=btn-edit-)\w+/i)[0];this.setState({edit:t})}},{key:"handleAdd",value:function(){var e=prompt("Nueva Categoria");if(e&&-1!==e.search(/[a-zA-Z0-9]/)&&-1===e.search(/\W/)&&window.confirm("Desea agregar: "+e+"?")){var t=Object.assign({},this.state.tags);t[e]=[],this.setState({tags:t})}}},{key:"handleSave",value:function(){if(window.confirm('Esta Acci\xf3n "NO" se podr\xe1 deshacer \xbfDesea Continuar?')){var e={fileName:"tags",dataUpdate:this.state.tags};f.a.put(v+"/admins/config",e).then((function(e){alert(e.data.message||e.data.error)})).catch((function(e){console.error(e),alert("Ha ocurrido un error de conexi\xf3n!")}))}}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.tags).map((function(t,a){return Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:t}),":"," "+e.state.tags[t].join(", "),"  ",Object(O.jsx)("button",{onClick:e.handleDelete,className:"badge badge-warning",id:"btn-delete-"+t,children:"\u2717"})," ","|"," ",Object(O.jsx)("button",{className:"badge badge-success",id:"btn-edit-"+t,onClick:e.handleEdit,children:"\u270f"})]},"tag"+a)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Categorias:"}),Object(O.jsx)("button",{className:"badge badge-info",onClick:this.handleSave,children:"\ud83d\udcbeGuardar"}),Object(O.jsx)("ul",{children:t}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:this.handleAdd,children:"Agregar"}),Object(O.jsx)(k,{tags:this.state.tags,edit:this.state.edit,close:function(){return e.setState({edit:""})},update:function(t){return e.setState({tags:t})}})]})]})}}]),a}(n.Component);function k(e){var t=function(t){t.preventDefault();var a=t.target.id.match(/(?<=btn-delete-tag-)\w+/i)[0];if(window.confirm("Desea borrar la etiqueta: "+a+"?")){var n=Object.assign({},e.tags),c=n[e.edit].filter((function(e){return e!==a}));n[e.edit]=c,e.update(n)}},a=Object(O.jsx)("span",{children:"\ud83d\uddd2"});return-1!==Object.keys(e.tags).indexOf(e.edit)&&(a=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"absolute","z-index":"1",top:"25%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),"Editar etiquetas de:",Object(O.jsx)("b",{children:" "+e.edit}),Object(O.jsx)("ul",{children:e.tags[e.edit].map((function(e){return Object(O.jsxs)("li",{children:[e," ",Object(O.jsx)("button",{onClick:t,className:"badge badge-warning",id:"btn-delete-tag-"+e,children:"\u2717"})]})}))}),Object(O.jsx)("button",{className:"badge badge-secondary",onClick:function(){var t=prompt("Nueva Etiqueta");if(t&&-1!==t.search(/[a-zA-Z0-9]/)&&-1===t.search(/\W/)&&window.confirm("Desea agregar: "+t+"?")){var a=Object.assign({},e.tags),n=[].concat(Object(w.a)(e.tags[e.edit]),[t]);a[e.edit]=n,e.update(a)}},children:"Agregar"})]})),Object(O.jsx)("div",{children:a})}var S=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={banners:[],edit:{index:-1,img:"",title:"",description:""}},n.handleDelete=n.handleDelete.bind(Object(C.a)(n)),n.handleEdit=n.handleEdit.bind(Object(C.a)(n)),n.handleAdd=n.handleAdd.bind(Object(C.a)(n)),n.handleSave=n.handleSave.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/config/banner").then((function(t){var a=t.data;e.setState({banners:a})})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},{key:"handleDelete",value:function(e){e.preventDefault();var t=e.target.id.match(/\d+/)[0];if(window.confirm("Desea borrar el banner: "+t+"?")){var a=this.state.banners.filter((function(e,a){return a!==parseInt(t)}));this.setState({banners:a})}}},{key:"handleEdit",value:function(e){e.preventDefault();var t=parseInt(e.target.id.match(/\d+/)[0]),a=Object.assign({},this.state.banners[t]);a.index=t,this.setState({edit:a})}},{key:"handleAdd",value:function(){var e={index:this.state.banners.length,img:"",title:"",description:""},t=[].concat(Object(w.a)(this.state.banners),[{img:"",title:"",description:""}]);this.setState({banners:t,edit:e})}},{key:"handleSave",value:function(){if(window.confirm('Esta Acci\xf3n "NO" se podr\xe1 deshacer \xbfDesea Continuar?')){var e={fileName:"banner",dataUpdate:this.state.banners};f.a.put(v+"/admins/config",e).then((function(e){alert(e.data.message||e.data.error)})).catch((function(e){console.error(e),alert("Ha ocurrido un error de conexi\xf3n!")}))}}},{key:"render",value:function(){var e=this,t=this.state.banners.map((function(t,a){return Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",border:"solid",width:"100%",margin:"0px"},children:[Object(O.jsxs)("figure",{children:[Object(O.jsx)("img",{src:t.img,alt:"image",style:{width:"100%"}}),Object(O.jsxs)("figcaption",{style:{textAlign:"center"},children:[a+". ",t.title]}),Object(O.jsx)("div",{style:{textAlign:"center"},children:t.description})]},"banner-figure-"+a),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:e.handleDelete,className:"badge badge-warning",id:"btn-banner-delete-"+a,children:"\u2717"})," ","|"," ",Object(O.jsx)("button",{className:"badge badge-success",id:"btn-banner-edit-"+a,onClick:e.handleEdit,children:"\u270f"})]})]},"banner"+a)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Banners:"}),Object(O.jsx)("button",{className:"badge badge-info",onClick:this.handleSave,children:"\ud83d\udcbeGuardar"}),Object(O.jsx)("div",{style:{display:"grid",gridTemplateColumns:" 1fr 1fr  1fr ",gridGap:"10px",width:"100%",marginTop:"15px"},children:t}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:this.handleAdd,children:"Agregar"}),Object(O.jsx)(D,{update:function(t){return e.setState({banners:t})},banners:this.state.banners,edit:this.state.edit,close:function(){return e.setState({edit:{index:-1,img:"",title:"",description:""}})}})]})]})}}]),a}(n.Component);function D(e){var t=function(t){var a=parseInt(t.target.id.match(/\d+/)[0]),n=e.banners.slice();n[a][t.target.name]=t.target.value,e.update(n)},a=Object(O.jsx)("span",{children:"\ud83d\uddd2"});return e.edit.index>-1&&e.edit.index<e.banners.length&&(a=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"fixed","z-index":"1",top:"25%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),"Editar banner:",Object(O.jsx)("b",{children:"#"+e.edit.index}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{for:"input-banner-img-"+e.edit.index,children:"Imagen"}),Object(O.jsx)("input",{type:"text",id:"input-banner-img-"+e.edit.index,name:"img",value:e.banners[e.edit.index].img,onChange:t})]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{for:"input-banner-title-"+e.edit.index,children:"Titulo"}),Object(O.jsx)("input",{type:"text",id:"input-banner-title-"+e.edit.index,name:"title",value:e.banners[e.edit.index].title,onChange:t})]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{for:"input-banner-description-"+e.edit.index,children:"Descripcion"}),Object(O.jsx)("input",{type:"textarea",id:"input-banner-description-"+e.edit.index,name:"description",value:e.banners[e.edit.index].description,onChange:t})]})]})]})),Object(O.jsx)("div",{children:a})}var N=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:{tags:{},banner:{}}},n}return Object(h.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"text-primary",children:"Configuraci\xf3n General:"}),Object(O.jsx)("hr",{}),Object(O.jsx)("span",{className:"text-info",children:"\u2139Para actualizar en la Base de Datos es necesaio guardar!"}),Object(O.jsx)(_,{}),Object(O.jsx)("hr",{}),Object(O.jsx)(S,{})]})}}]),a}(n.Component);function A(e){var t=function(t){var a=t.target.id.match(/(?<=input-contact-)\w+/)[0],n=Object.assign({},e.contact);n[a]=t.target.value,e.update(n)},a=Object(O.jsx)("span",{style:{backgroundColor:"green"},children:"\ud83d\uddd2"});return e.show&&(a=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"absolute","z-index":"1",top:"25%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),Object(O.jsx)("b",{children:"Editar Contacto"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsxs)("label",{children:["nombre:",Object(O.jsx)("input",{type:"text",id:"input-contact-name",value:e.contact.name,onChange:t})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("label",{children:["cargo:",Object(O.jsx)("input",{type:"text",id:"input-contact-charge",value:e.contact.charge,onChange:t})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("label",{children:["telefono:",Object(O.jsx)("input",{type:"text",id:"input-contact-phone",value:e.contact.phone,onChange:t})]})}),Object(O.jsx)("li",{children:Object(O.jsxs)("label",{children:["email:",Object(O.jsx)("input",{type:"text",id:"input-contact-email",value:e.contact.email,onChange:t})]})})]}),Object(O.jsx)("button",{className:"badge badge-info",onClick:function(){if(window.confirm("Esta acci\xf3n se actualizara de inmediato en la Base de Datos\n\xbfDesea continuar?")){var t={contact_id:e.contact._id,dataUpdate:{name:e.contact.name,charge:e.contact.charge,phone:e.contact.phone,email:e.contact.email}};f.a.put(v+"/admins/contacts",t).then((function(t){return alert(t.data.message||t.data.error),f.a.get(v+e.url)})).then((function(t){var a=t.data;return e.reload(a)})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},children:"\ud83d\udcbeGuardar"})]})),Object(O.jsx)("div",{children:a})}function E(e){var t=function(t){t.preventDefault();var a=parseInt(t.target.id.match(/\d+/)[0]);if(window.confirm("Esta acci\xf3n se actualiza inmediatamente en la Base de datos\nNo se podra deshacer!\n\xbfDesea continuar?")){var n=e.companies[e.show].contacts_id[a]._id;f.a.delete(v+"/admins/contacts/"+n).then((function(t){alert(t.data.message||t.data.error);var a=e.companies[e.show].contacts_id.filter((function(e){return e._id!==n})),c={company_id:e.companies[e.show]._id,dataUpdate:{contacts_id:a}};return f.a.put(v+e.url,c).then((function(t){return alert(t.data.message||t.data.error),f.a.get(v+e.url)})).then((function(t){var a=t.data;return e.reload({data:a,show:!1})})).catch((function(e){alert("Ha ocurrido un error!"),console.log(e)}))}))}},a=function(t){t.preventDefault();var a=parseInt(t.target.id.match(/\d+/)[0]);e.handleEdit(a)},n=Object(O.jsx)("span",{style:{backgroundColor:"blue"},children:"\ud83d\uddd2"});return e.show>-1&&e.companies.length>e.show&&(n=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"absolute","z-index":"1",top:"25%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),"Contactos de:",Object(O.jsx)("b",{children:" "+e.companies[e.show].company}),Object(O.jsx)("ul",{children:e.companies[e.show].contacts_id.map((function(e,n){return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:["  ",e.name+":"]}),Object(O.jsx)("button",{onClick:t,className:"badge badge-danger",id:"btn-delete-contact-"+n,children:"\u2717"}),Object(O.jsx)("button",{onClick:a,className:"badge badge-success",id:"btn-delete-contact-"+n,children:"\u270f"}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:["puesto: ",e.charge]}),Object(O.jsxs)("li",{children:["Tel: ",e.phone]}),Object(O.jsxs)("li",{children:["email:",e.email]})]})]})}))}),Object(O.jsx)("button",{className:"badge badge-secondary",onClick:function(){var t={name:"",company_id:e.companies[e.show]._id,charge:"",phone:"",email:""};window.confirm("Esta acci\xf3n se actualiza inmediatamente en la Base de datos\n\xbfDesea continuar?")&&f.a.post(v+"/admins/contacts",t).then((function(a){alert(a.data.message||a.data.error);var n=a.data.contact_id,c=e.companies[e.show].contacts_id.map((function(e){return e._id}));c.push(n);var s={company_id:t.company_id,dataUpdate:{contacts_id:c}};return f.a.put(v+e.url,s).then((function(t){return alert(t.data.message||t.data.error),f.a.get(v+e.url)})).then((function(t){var a=t.data;return e.reload({data:a,show:!0})})).catch((function(e){alert("Ha ocurrido un error!"),console.log(e)}))}))},children:"Agregar"})]})),Object(O.jsx)("div",{children:n})}var I=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={show_add_company:!1,companies:[],show:-1,edit:{show:!1,company_index:-1,contact:{}}},n.handleAdd=n.handleAdd.bind(Object(C.a)(n)),n.handleDelete=n.handleDelete.bind(Object(C.a)(n)),n.handleShowContacts=n.handleShowContacts.bind(Object(C.a)(n)),n.handleEditContact=n.handleEditContact.bind(Object(C.a)(n)),n.handleReload=n.handleReload.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+this.props.type.url).then((function(t){var a=t.data;e.setState({companies:a})})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},{key:"handleAdd",value:function(e){var t=this;e.preventDefault();for(var a=document.getElementsByClassName("input-new-company"),n={},c=0;c<a.length;c++)if(n[a[c].name]=a[c].value,-1===a[c].value.search(/\w/))return void alert("Los campos no pueden tener caracteres especiales ni estar vacios");console.log(n),window.confirm("Esta acci\xf3n se actualizara\n inmediatamente en la base datos\n Deseea continuar?")&&f.a.post(v+this.props.type.url,n).then((function(e){return alert(e.data.message||e.data.error),f.a.get(v+t.props.type.url)})).then((function(e){var a=e.data;t.setState({companies:a})})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},{key:"handleDelete",value:function(e){var t=this;e.preventDefault();var a=parseInt(e.target.id.match(/\d+/)[0]),n=this.state.companies[a]._id;window.confirm("Esta acci\xf3n se actualizara\n inmediatamente en la base datos\n Deseea continuar?")&&f.a.delete(v+this.props.type.url+n).then((function(e){return alert(e.data.message||e.data.error),f.a.get(v+t.props.type.url)})).then((function(e){var a=e.data;t.setState({companies:a})})).catch((function(e){console.error(e),alert("Ha ocurrido un error!")}))}},{key:"handleShowContacts",value:function(e){e.preventDefault();var t=parseInt(e.target.id.match(/\d+/)[0]);this.setState({show:t})}},{key:"handleEditContact",value:function(e){var t={show:!0,company_index:this.state.show,contact:this.state.companies[this.state.show].contacts_id[e]};this.setState({edit:t,show:-1})}},{key:"handleReload",value:function(e){this.setState({edit:{show:!1},companies:e})}},{key:"render",value:function(){var e=this,t=this.state.companies.map((function(t,a){return Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:[a,"-"," "+t.company]})," (",t.country,")","  ",Object(O.jsx)("button",{onClick:e.handleDelete,className:"badge badge-danger",id:"btn-delete-company"+a,children:"\u2717"})," ","|"," ",Object(O.jsx)("button",{className:"badge badge-success",id:"btn-contact-company"+a,onClick:e.handleShowContacts,children:"\ud83d\udc64"})]},"company"+a)}));return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"text-primary",children:[this.props.type.es,":"]}),Object(O.jsx)("hr",{}),Object(O.jsx)("span",{className:"text-info",children:"\u2139Hay acciones que se actualizan directamente en la Base de Datos!"}),Object(O.jsx)("ul",{children:t}),Object(O.jsx)("button",{className:"badge badge-secondary",onClick:function(){return e.setState((function(e){return{show_add_company:!e.show_add_company}}))},children:"Nueva Compa\xf1ia"}),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"start"},children:[Object(O.jsx)(E,{close:function(){return e.setState({show:-1})},companies:this.state.companies,show:this.state.show,handleEdit:this.handleEditContact,reload:function(t){return e.setState((function(e){return{companies:t.data,show:-1,edit:{show:t.show,company_index:e.show,contact:t.data[e.show].contacts_id[t.data[e.show].contacts_id.length-1]}}}))},url:this.props.type.url}),Object(O.jsx)(T,{handleAdd:this.handleAdd,show:this.state.show_add_company,close:function(){return e.setState({show_add_company:!1})}}),Object(O.jsx)(A,{show:this.state.edit.show,contact:this.state.edit.contact,company_index:this.state.edit.company_index,close:function(){return e.setState({edit:{show:!1}})},reload:this.handleReload,update:function(t){return e.setState({edit:{show:!0,contact:t}})},url:this.props.type.url})]})]})}}]),a}(n.Component);function T(e){var t=Object(O.jsx)("span",{style:{backgroundColor:"red"},children:"\ud83d\uddd2"});return e.show&&(t=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"fixed","z-index":"1",top:"25%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),Object(O.jsx)("b",{className:"text-info",children:"Agregar Nueva Compa\xf1ia"}),Object(O.jsxs)("ul",{children:[Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{for:"input-company-company",children:"Campa\xf1ia: "}),Object(O.jsx)("input",{type:"text",id:"input-company-company",name:"company",className:"input-new-company"})]}),Object(O.jsxs)("li",{children:[Object(O.jsx)("label",{for:"input-company-county",children:"Pa\xeds: "}),Object(O.jsx)("input",{type:"text",id:"input-company-country",name:"country",className:"input-new-company"})]})]}),Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.handleAdd,children:"Agregar"})]})),Object(O.jsx)("di",{children:t})}var z=a(18),H=a(29),P=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={catalog:[]},n.handleDeleteProduct=n.handleDeleteProduct.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/products").then((function(t){console.log("res,  axios: ",t),e.setState({catalog:t.data})})).catch((function(e){return console.log("error:",e)}))}},{key:"handleDeleteProduct",value:function(e){var t=this;e.preventDefault();var a=e.target.id.match(/(?<=btn-delete-)\w+/);window.confirm("Una vez ejecutada "+a+" no se podr\xe1 deshacer \xbfDesea continuar?")&&f.a.delete(v+"/admins/products/"+a).then((function(e){return alert(e.data.message||e.data.error),f.a.get(v+"/admins/products")})).then((function(e){console.log("res,  axios: ",e),t.setState({catalog:e.data})})).catch((function(e){console.log(e),alert("Ha ocurrido un error!")}))}},{key:"render",value:function(){var e=this,t=this.state.catalog.map((function(t,a){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:a})}),Object(O.jsx)("td",{children:t.buy_code}),Object(O.jsx)("td",{children:t.name}),Object(O.jsx)("td",{children:Object(O.jsx)("img",{src:t.images[0],style:{width:"100px"}})}),Object(O.jsxs)("td",{children:[Object(O.jsx)(o.b,{to:e.props.url+"/edit/"+t.buy_code,children:"ver \ud83e\udd7d"})," | ",Object(O.jsx)("button",{className:"btn btn-danger",id:"btn-delete-"+t.buy_code,onClick:e.handleDeleteProduct,children:"\ud83d\uddd1"})]})]})}));return Object(O.jsx)("div",{children:Object(O.jsx)(H.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(O.jsxs)("table",{class:"default",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:["  ",Object(O.jsx)("th",{children:"#"}),Object(O.jsx)("th",{children:"buy_code"}),Object(O.jsx)("th",{children:"Nombre"}),Object(O.jsx)("th",{children:"imagen"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:t})]})})})}}]),a}(n.Component);function L(e){var t=Object(n.useState)(!1),a=Object(z.a)(t,2),c=a[0],s=a[1],i=function(t){t.preventDefault();var a=t.target.id.match(/(?<=btn-delete-tag-)\w+/i);e.deleteTag(a)},r=e.tags.map((function(e){return Object(O.jsxs)("div",{children:[e,Object(O.jsx)("button",{onClick:i,className:"badge badge-warning",id:"btn-delete-tag-"+e,children:"\u2717"})]})}));return Object(O.jsxs)("div",{style:{display:"grid",gridTemplateColumns:" 1fr 1fr 1fr 1fr ",gridGap:"5px",width:"100%",marginTop:"15px"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"badge badge-success",onClick:function(){return s(!0)},children:"+"}),Object(O.jsx)(U,{show:c,close:function(){return s(!1)},allowTags:e.allowTags,handleAddTag:e.handleAddTag})]}),r]})}function U(e){var t=function(t){t.preventDefault();var a=t.target.id.match(/(?<=btn-add-tag-)\w+/i)[0];e.handleAddTag(a)},a=Object(O.jsx)("div",{});if(e.show){var n=Object.keys(e.allowTags).map((function(a){var n=e.allowTags[a].map((function(e){return Object(O.jsx)("button",{className:"badge badge-info",id:"btn-add-tag-"+e,onClick:t,children:e})}));return Object(O.jsxs)("li",{children:[a,":",n]})}));a=Object(O.jsxs)("div",{style:{padding:"20px",border:"solid",display:"block",position:"absolute","z-index":"1",top:"20%",left:"15%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"10px 10px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:e.close,children:"x"}),Object(O.jsx)("ul",{children:n})]})}return Object(O.jsx)("div",{children:a})}function R(e){var t=function(t){t.preventDefault();var a=parseInt(t.target.id.match(/\d+/)[0]);e.handleDeleteImage(a)},a=e.images.map((function(e,a){return Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{target:"_blank",href:e,children:Object(O.jsx)("img",{src:e,style:{width:"100px"}})}),Object(O.jsx)("button",{onClick:t,className:"badge badge-warning",id:"btn-delete-tag-"+a,children:"\u2717"})]})}));return Object(O.jsxs)("div",{style:{display:"grid",gridTemplateColumns:" 1fr 1fr 1fr 1fr ",gridGap:"5px",width:"100%",marginTop:"15px"},children:[Object(O.jsx)("button",{className:"btn btn-success",onClick:e.handleAddImage,children:"+"}),a]})}var B=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={product:{},tags:{},suppliers:[]},n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.handleTagDelete=n.handleTagDelete.bind(Object(C.a)(n)),n.handleAddTag=n.handleAddTag.bind(Object(C.a)(n)),n.handleAddImage=n.handleAddImage.bind(Object(C.a)(n)),n.handleDeleteImage=n.handleDeleteImage.bind(Object(C.a)(n)),n.handleChangeSelect=n.handleChangeSelect.bind(Object(C.a)(n)),n.handleSave=n.handleSave.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={},a=[];f.a.get(v+"/admins/config/tags").then((function(e){return t=Object.assign({},e.data),f.a.get(v+"/admins/suppliers")})).then((function(n){a=n.data.slice(),e.setState((function(e,n){return{product:n.product,tags:t,suppliers:a}}))})).catch((function(e){console.log(e),alert("Ha ocurrido un error, posible fallo de conexi\xf3n")}))}},{key:"componentDidUpdate",value:function(e){this.props.show!==e.show&&this.setState((function(e,t){return{product:t.product}}))}},{key:"handleChange",value:function(e){var t=Object.assign({},this.state.product),a=e.target.id.match(/(?<=input-product-)\w+/i)[0];t[a]="stock"===a||"price"===a||"discount"===a?parseFloat(e.target.value):e.target.value,this.setState({product:t})}},{key:"handleTagDelete",value:function(e){if(window.confirm("\xbfEliminar la etiqueta: "+e+"?")){var t=Object.assign({},this.state.product),a=this.state.product.tags.filter((function(t){return t!=e}));t.tags=a,this.setState({product:t})}}},{key:"handleAddTag",value:function(e){var t=Object.assign({},this.state.product);if(-1===this.state.product.tags.indexOf(e)){var a=[].concat(Object(w.a)(this.state.product.tags),[e]);t.tags=a,this.setState({product:t})}}},{key:"handleAddImage",value:function(){var e=window.prompt("Ingrese la Url de la nueva imagen");if(e&&-1!==e.search(/http/)){var t=Object.assign({},this.state.product),a=[].concat(Object(w.a)(this.state.product.images),[e]);t.images=a,this.setState({product:t})}}},{key:"handleDeleteImage",value:function(e){if(window.confirm("\xbfEliminar la imagen: "+e+"?")){var t=Object.assign({},this.state.product),a=this.state.product.images.filter((function(t,a){return a!==e}));t.images=a,this.setState({product:t})}}},{key:"handleChangeSelect",value:function(e){var t=Object.assign({},this.state.product),a=e.target.name;t[e.target.name]="size"===a?[e.target.value]:e.target.value,this.setState({product:t})}},{key:"handleSave",value:function(e){var t=this;if(e.preventDefault(),window.confirm('Esta acci\xf3n "NO" se podr\xe1 deshacer, \xbfDesea guardar los cambios?')){var a={};a.buy_code=this.state.product.buy_code,a.dataUpdate=this.state.product,f()(v+"/admins/products",{method:this.props.method,data:a}).then((function(e){alert(e.data.message||e.data.error)})).then((function(){return t.props.load()})).then((function(){return t.props.close()})).catch((function(e){console.log(e),alert("Ha ocurrido un error!")}))}}},{key:"render",value:function(){var e=this,t=Object(O.jsx)("span",{children:""});if(this.props.show){var a=Object.keys(this.state.product).map((function(t,a){var n="";switch(typeof e.state.product[t]){case"number":n="number";break;case"string":n="text";break;default:n=""}if("_id"!==t&&"__v"!==t&&"created_on"!==t&&"updated_on"!==t&&"supplier_id"!==t&&"edited_by"!==t)if(t===(e.props.buy_code?"":"buy_code"));else if("number"===n||"text"===n)return Object(O.jsxs)("li",{children:[Object(O.jsxs)("label",{children:[t,":",Object(O.jsx)("input",{id:"input-product-"+t,type:n,value:e.state.product[t],onChange:e.handleChange})]}),"   "]})}));t=Object(O.jsxs)("div",{style:{padding:"20px",display:"block",position:"absolute","z-index":"1",top:"20%",left:"40%",backgroundColor:"rgb(235, 237, 239 )","box-shadow":"5px 5px 5px gray"},children:[Object(O.jsx)("button",{className:"badge badge-secondary",onClick:this.props.close,children:"x"}),Object(O.jsx)("button",{className:"badge badge-info",onClick:this.handleSave,children:"\ud83d\udcbeGuardar"}),Object(O.jsx)("ul",{children:a}),Object(O.jsx)("span",{className:"text-muted",children:"Ingresar los numeros usando coma(,) como separador de decimales"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("b",{children:["Size:"," ",Object(O.jsx)("span",{style:{fontSize:"1.2rem"},children:this.state.product.size})]})," ",Object(O.jsx)("select",{name:"size",onChange:this.handleChangeSelect,value:this.state.product.size,children:this.state.tags.talla.map((function(e){return Object(O.jsx)("option",{value:e,children:e})}))}),Object(O.jsx)("hr",{}),Object(O.jsxs)("b",{children:["company:"," ",Object(O.jsx)("span",{style:{fontSize:"1.2rem"},children:0==this.state.suppliers.filter((function(t){return t._id==e.state.product.supplier_id})).length?"":this.state.suppliers.filter((function(t){return t._id==e.state.product.supplier_id}))[0].company})]})," ",Object(O.jsx)("select",{name:"supplier_id",onChange:this.handleChangeSelect,children:this.state.suppliers.map((function(e){return Object(O.jsx)("option",{value:e._id,children:e.company})}))}),Object(O.jsx)("hr",{}),Object(O.jsx)("b",{children:"Tags:"}),Object(O.jsx)(L,{tags:this.state.product.tags||[],deleteTag:this.handleTagDelete,allowTags:this.state.tags||[],handleAddTag:this.handleAddTag}),Object(O.jsx)("hr",{}),Object(O.jsx)("b",{children:"Imgs:"}),Object(O.jsx)(R,{handleDeleteImage:this.handleDeleteImage,handleAddImage:this.handleAddImage,images:this.state.product.images||[]})]})}return Object(O.jsx)("div",{children:t})}}]),a}(n.Component);function G(){var e=Object(l.f)().buy_code,t=Object(n.useState)([]),a=Object(z.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),r=Object(z.a)(i,2),d=r[0],u=r[1],h=Object(n.useState)(0),b=Object(z.a)(h,2),j=b[0],p=b[1];Object(n.useEffect)((function(){f.a.get(v+"/admins/products/"+e).then((function(e){s(e.data)}))}),[e,j]);var x=Object.keys(c).map((function(e){return"images"===e?Object(O.jsxs)("li",{children:[Object(O.jsxs)("b",{children:[e,":"]}),c[e].map((function(e){return Object(O.jsx)("a",{target:"_blank",href:e,children:Object(O.jsx)("img",{src:e,style:{width:"50px"}})})}))]}):"tags"===e?Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:e}),":",c[e].join(", ")]}):"_id"===e||"__v"===e?void 0:Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:e}),":",c[e]]})}));return Object(O.jsxs)("div",{children:[Object(O.jsx)(o.b,{to:"/admins-page/productos",children:"\u2b05Regresar"}),Object(O.jsxs)("div",{style:{border:"solid",borderRadius:"15px",width:"500px",paddingLeft:"50px"},children:[Object(O.jsxs)("h3",{className:"text-primary",children:["Ref:",c.buy_code]}),Object(O.jsx)("ul",{children:x}),Object(O.jsx)("button",{style:{margin:"10px"},className:"btn btn-success",onClick:function(){return u(!0)},children:"\u270fEdit"})]}),Object(O.jsx)(B,{product:c,show:d,close:function(){return u(!1)},load:function(){return p(j+1)},method:"PUT",buy_code:!1})]})}var M=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={catalog:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleSearch",value:function(){}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)(o.b,{to:"/admins-page/productos/new",children:"crear producto"})}),Object(O.jsx)(q,{})]})}}]),a}(n.Component);function q(e){var t=Object(n.useState)(!1),a=Object(z.a)(t,2),c=a[0],s=a[1],i=Object(l.g)(),r=i.path,d=i.url;return Object(O.jsx)("div",{children:Object(O.jsxs)(l.c,{children:[Object(O.jsxs)(l.a,{exact:!0,path:r,children:[Object(O.jsx)("h2",{children:" lista de productos (ver detalles)"}),Object(O.jsx)(P,{url:d})]}),Object(O.jsx)(l.a,{path:"".concat(r,"/edit/:buy_code"),children:Object(O.jsx)(G,{})}),Object(O.jsxs)(l.a,{path:"".concat(r,"/new"),children:[Object(O.jsx)(o.b,{to:"/admins-page/productos",children:"\u2b05Regresar"}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"text-primary",style:{fontSize:"1.5rem"},children:"Crear nuevo producto: "})," ",Object(O.jsx)("label",{children:Object(O.jsx)("button",{className:"btn btn-success",onClick:function(){return s(!0)},children:"+"})}),Object(O.jsx)(B,{product:{size:["L"],views:[],units_sold:[],images:[],tags:[],_id:"",buy_code:"",supplier_product_code:"",supplier_id:"",name:"",description:"",mark:"",stock:0,price:0,discount:0,edited_by:"",created_on:"",updated_on:""},show:c,close:function(){return s(!1)},load:function(){},method:"POST",buy_code:!0})]})]})})}var F=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={orders:[],status:"all"},n.handleDeleteOrder=n.handleDeleteOrder.bind(Object(C.a)(n)),n.handleChange=n.handleChange.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/orders").then((function(t){console.log("res,  axios: ",t),e.setState({orders:t.data})})).catch((function(e){return console.log("error:",e)}))}},{key:"handleDeleteOrder",value:function(e){var t=this;e.preventDefault();var a=e.target.id.match(/(?<=btn-delete-)\w+/);window.confirm("Una vez ejecutada "+a+" no se podr\xe1 recuperar \xbfDesea continuar?")&&f.a.delete(v+"/admins/orders/"+a).then((function(e){return alert(e.data.message||e.data.error),f.a.get(v+"/admins/orders")})).then((function(e){console.log("res,  axios: ",e),t.setState({orders:e.data})})).catch((function(e){console.log(e),alert("Ha ocurrido un error!")}))}},{key:"handleChange",value:function(e){var t=this,a=e.target.value;"all"===a?f.a.get(v+"/admins/orders").then((function(e){t.setState({orders:e.data,status:a})})).catch((function(e){console.log(e),alert("Ha ocurrido un error, posiblemente un fallo de conexi\xf3n")})):f.a.get(v+"/admins/orders/search?status="+a).then((function(e){t.setState({orders:e.data,status:a})})).catch((function(e){console.log(e),alert("Ha ocurrido un error, posiblemente un fallo de conexi\xf3n")}))}},{key:"render",value:function(){var e=this,t=this.state.orders.map((function(t,a){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsx)("b",{children:a})}),Object(O.jsx)("td",{children:t.follow_code}),Object(O.jsx)("td",{children:t.status}),Object(O.jsx)("td",{children:t.costumer_name}),Object(O.jsx)("td",{children:t.total}),Object(O.jsxs)("td",{children:[Object(O.jsx)(o.b,{to:e.props.url+"/edit/"+t.follow_code,children:"ver \ud83e\udd7d"})," | ",Object(O.jsx)("button",{className:"btn btn-danger",id:"btn-delete-"+t.follow_code,onClick:e.handleDeleteOrder,children:"\ud83d\uddd1"})]})]})}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{for:"status",children:"Filtrar por Estatus:"}),"  ",Object(O.jsxs)("select",{name:"status",id:"cars",value:this.state.status,onChange:this.handleChange,children:[Object(O.jsx)("option",{value:"all",children:"Todos"}),Object(O.jsx)("option",{value:"new_order",children:"new_order"}),Object(O.jsx)("option",{value:"in_process",children:"in_process"}),Object(O.jsx)("option",{value:"complited",children:"complited"}),Object(O.jsx)("option",{value:"cancelled",children:"cancelled"})]}),Object(O.jsx)(H.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:Object(O.jsxs)("table",{class:"default",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:["  ",Object(O.jsx)("th",{children:"#"}),Object(O.jsx)("th",{children:"follow_code"}),Object(O.jsx)("th",{children:"Estatus"}),Object(O.jsx)("th",{children:"Nombre del cliente"}),Object(O.jsx)("th",{children:"total ($)"}),Object(O.jsx)("th",{})]})}),Object(O.jsx)("tbody",{children:t})]})})]})}}]),a}(n.Component),J=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={delivers:[],company_i:0,contact_i:0,date:(new Date).toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},n.handleChange=n.handleChange.bind(Object(C.a)(n)),n.handleChangeContact=n.handleChangeContact.bind(Object(C.a)(n)),n.handleChangeDate=n.handleChangeDate.bind(Object(C.a)(n)),n.handleChangeStatus=n.handleChangeStatus.bind(Object(C.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get(v+"/admins/delivers").then((function(t){e.setState({delivers:t.data,company_i:0,contact_i:0})})).catch((function(e){alert("Ha ocurrido un error"),console.log(e)}))}},{key:"handleChange",value:function(e){this.setState({company_i:parseInt(e.target.value)})}},{key:"handleChangeContact",value:function(e){this.setState({contact_i:parseInt(e.target.value)})}},{key:"handleChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"handleChangeStatus",value:function(e){e.preventDefault();var t=this.state.company_i,a=this.state.contact_i,n={status:"in_process",info:{company_id:this.state.delivers[t]._id,company:this.state.delivers[t].company,contacts_id:this.state.delivers[t].contacts_id[a]._id,contacts_name:this.state.delivers[t].contacts_id[a].name,contacts_phone:this.state.delivers[t].contacts_id[a].phone,transfer_to_delivery_date:this.state.date}};this.props.handleInProcess(n)}},{key:"render",value:function(){var e=this,t=Object(O.jsx)("div",{});return"new_order"===this.props.status&&(t=Object(O.jsxs)("div",{style:{border:"solid",borderRadius:"15px",width:"500px",paddingLeft:"50px"},children:[Object(O.jsxs)("label",{children:["Compa\xf1ia:",Object(O.jsx)("select",{name:"company",onChange:this.handleChange,value:this.state.company_i,children:this.state.delivers.map((function(e,t){return Object(O.jsx)("option",{value:t,children:e.company},e.company)}))})]}),Object(O.jsxs)("label",{children:["Encargado:",Object(O.jsx)("select",{name:"contacts",onChange:this.handleChangeContact,value:this.state.contact_i,children:0===this.state.delivers.filter((function(t,a){return a===e.state.company_i})).length?"":this.state.delivers.filter((function(t,a){return a===e.state.company_i}))[0].contacts_id.map((function(e,t){return Object(O.jsxs)("option",{value:t,children:[e.name,"(",e.charge,")"]},e.name)}))})]}),Object(O.jsxs)("label",{children:["Fecha de entrega al repartidor",Object(O.jsx)("input",{type:"date",value:this.state.date,onChange:this.handleChangeDate})]}),Object(O.jsxs)("label",{children:["Cambiar Estatus a :",Object(O.jsx)("button",{className:"btn btn-warning",onClick:this.handleChangeStatus,children:"in_process"})]})]})),Object(O.jsx)("div",{children:t})}}]),a}(n.Component);function W(e){var t=Object(l.f)().follow_code,a=Object(n.useState)({}),c=Object(z.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(0),d=Object(z.a)(r,2),o=d[0],u=d[1];Object(n.useEffect)((function(){f.a.get(v+"/admins/orders/search?follow_code="+t).then((function(e){i(e.data[0])}))}),[t]);var h=Object.keys(s).map((function(e){return"_id"===e||"__v"===e?void 0:"status_history"==e?Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"status_history:"}),s[e].map((function(e){return Object(O.jsx)(Z,{element:e})}))]}):"products"==e?Object(O.jsxs)("table",{style:{width:"100%",backgroundColor:"silver"},children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"buy_code"}),Object(O.jsx)("th",{children:"quantity"}),Object(O.jsx)("th",{children:"price"})]}),s[e].map((function(e){var t=JSON.parse(e);return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.buy_code}),Object(O.jsx)("td",{children:t.quantity}),Object(O.jsx)("td",{children:t.price})]})}))]}):Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:e})," :",s[e]]},"li"+e)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{border:"solid",borderRadius:"15px",width:"500px",height:"auto",paddingLeft:"50px"},children:Object(O.jsx)("ul",{children:h})}),Object(O.jsx)(J,{status:s.status,handleInProcess:function(e){var t=Object.assign({},s);t.status="in_process",t.status_history=[JSON.stringify(e)].concat(Object(w.a)(t.status_history)),i(t),u(o+1)}}),Object(O.jsx)("button",{className:"btn btn-success",onClick:function(){if("in_process"===s.status){var e=Object.assign({},s);e.status="complited";var t={status:"complited",info:{updated_on:(new Date).toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]}};e.status_history=[JSON.stringify(t)].concat(Object(w.a)(e.status_history)),i(e),u(o+1)}else alert('solo se puede "completar" pedidos en estado "in_process"')},children:"Completado"}),"  ",Object(O.jsx)("button",{className:"btn btn-danger",onClick:function(){if("cancelled"!==s.status&&"complited"!==s.status){var e=Object.assign({},s);e.status="cancelled";var t=window.prompt("escriba la raz\xf3n de la cancelaci\xf3n"),a={status:"cancelled",info:{updated_on:(new Date).toISOString().match(/\d{4}-\d{2}-\d{2}/)[0],reason:t}};e.status_history=[JSON.stringify(a)].concat(Object(w.a)(e.status_history)),i(e),u(o+1)}},children:"Cancelado"}),"  ",Object(O.jsx)("button",{className:"btn btn-info",onClick:function(){if(window.confirm('Esta Acci\xf3n "NO" se podr\xe1 deshacer \xbfDesea Continuar?')){var e={follow_code:s.follow_code,dataUpdate:{status:s.status,status_history:s.status_history}};f.a.put(v+"/admins/orders",e).then((function(e){alert(e.data.message||e.data.error)})).catch((function(e){console.error(e),alert("Ha ocurrido un error de conexi\xf3n!")}))}},children:"\ud83d\udcbeGuardar"})]})}function Z(e){var t=JSON.parse(e.element),a=Object.keys(t.info).map((function(a,n){return Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:a}),":",t.info[a]]},e.element.status+n)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),"status:"," "+t.status,Object(O.jsxs)("ul",{children:["info:",a]})]})}function $(){var e=Object(l.g)(),t=e.path,a=e.url;return Object(O.jsx)("div",{children:Object(O.jsxs)(l.c,{children:[Object(O.jsxs)(l.a,{exact:!0,path:t,children:[Object(O.jsx)("h2",{children:" Lista De Pedidos (ver detalles)"}),Object(O.jsx)(F,{url:a})]}),Object(O.jsx)(l.a,{path:"".concat(t,"/edit/:follow_code"),children:Object(O.jsx)(W,{})})]})})}new d.a;var K=function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(y,{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(l.a,{path:"/admins-page/",exact:!0,component:N}),Object(O.jsx)(l.a,{path:"/admins-page/pedidos",component:$}),Object(O.jsx)(l.a,{path:"/admins-page/productos",component:M}),Object(O.jsx)(l.a,{path:"/admins-page/repartidores",children:Object(O.jsx)(I,{type:{es:"Repartidores",url:"/admins/delivers/"}})}),Object(O.jsx)(l.a,{path:"/admins-page/proveedores",children:Object(O.jsx)(I,{type:{es:"Proveedores",url:"/admins/suppliers/"}})})]})]})})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(K,{})}),document.getElementById("root")),Q()}},[[82,1,2]]]);
//# sourceMappingURL=main.a8e231cc.chunk.js.map